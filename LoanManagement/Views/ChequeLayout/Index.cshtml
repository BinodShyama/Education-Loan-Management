@{
    ViewData["Title"] = "Cheque Layout";
}
@model LoanManagement.ViewModel.Cheque.ChequeLayoutDto
<link href="~/css/cheque.css" rel="stylesheet" />
<link href="~/lib/jquery-ui/jquery-ui.min.css" rel="stylesheet" />
<div id="page-head">

    <div id="page-title">
        <h1 class="page-header text-overflow">Cheque Layout</h1>
    </div>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa-solid fa-house"></i></a></li>
        <li class="active">Cheque Layout</li>
    </ol>

</div>

<div id="page-content">
    <div class="card">
        <div class="eq-height clearfix">
            <div class="col-md-4 eq-box-md  bord-hor">
                <div class="panel-heading">
                    <h3 class="panel-title">Cheque Layout(cm)</h3>
                </div>
                <div>
                    <div class="col-md-12">
                        <div class="form-group mt-2">
                            <label class="control-label" asp-for="Name">Layout Name</label>
                            <input placeholder="Enter layout name" asp-for="Name" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="d-flex mt-1">
                            <div class="checkbox col-md-6">
                                @* <input id="size" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="size">Cheque Size</label>
                            </div>
                            <div class="checkbox col-md-6">
                                @*<input id="date" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="date">Date</label>
                            </div>
                        </div>
                        <!-- Checkboxes -->
                        <div class="d-flex justify-content-between">
                            <div class="card mt-2 col-md-6 mr-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-size">H:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="Height" placeholder="Enter cheque height (cm)" id="x-size" class="form-control input-sm">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-size">W:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="Width" placeholder="Enter cheque width (cm)" id="y-size" class="form-control input-sm">
                                    </div>
                                </div>

                            </div>
                            <div class="card mt-2 col-md-6 ml-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-date">X:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="XDate" placeholder="x-position (cm)" class="form-control input-sm" id="x-date">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-date">Y:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="YDate" placeholder="y-position (cm)" class="form-control input-sm" id="y-date">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 mt-2">
                        <div class="d-flex">
                            <div class="checkbox col-md-6">
                                @* <input id="date" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="date">Payee Name</label>
                            </div>
                            <div class="checkbox col-md-6">
                                @*<input id="amount" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="amount">Amount</label>
                            </div>
                        </div>
                        <!-- Checkboxes -->
                        <div class="d-flex justify-content-between">
                            <div class="card mt-2 col-md-6 mr-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-payee">X:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="XPayee" placeholder="x-position (cm)" class="form-control input-sm" id="x-payee">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-payee">Y:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="YPayee" placeholder="x-position (cm)" class="form-control input-sm" id="y-payee">
                                    </div>
                                </div>

                            </div>
                            <div class="card mt-2 col-md-6 ml-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-amount">X:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="XAmount" placeholder="x-position (cm)" class="form-control input-sm" id="x-amount">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-amount">Y:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="YAmount" placeholder="x-position (cm)" class="form-control input-sm" id="y-amount">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 mt-2">
                        <div class="d-flex">
                            <div class="checkbox col-md-6">
                                @*<input id="date" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="date">Amount In Word Line 1</label>
                            </div>
                            <div class="checkbox col-md-6">
                                @*  <input id="amount" class="magic-checkbox" type="checkbox" checked="">*@
                                <label for="amount">Amount In Word Line 2</label>
                            </div>
                        </div>
                        <!-- Checkboxes -->
                        <div class="d-flex justify-content-between">
                            <div class="card mt-2 col-md-6 mr-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-amountinword1">X:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="XAmountInWordLine1" placeholder="x-position (cm)" class="form-control input-sm" id="x-amountinword1">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-amountinword1">Y:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="YAmountInWordLine1" placeholder="y-position (cm)" class="form-control input-sm" id="y-amountinword1">
                                    </div>
                                </div>

                            </div>
                            <div class="card mt-2 col-md-6 ml-1">
                                <div class="form-group  d-flex mt-2">
                                    <label class="col-md-2 control-label" for="x-amountinword2">X:</label>
                                    <div class="col-md-10">
                                        <input type="number" asp-for="XAmountInWordLine2" placeholder="x-position (cm)" class="form-control input-sm" id="x-amountinword2">
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <label class="col-sm-2 control-label" for="y-amountinword2">Y:</label>
                                    <div class="col-sm-10">
                                        <input type="number" asp-for="YAmountInWordLine2" placeholder="y-position (cm)" class="form-control input-sm" id="y-amountinword2">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer text-right mt-4">

                    <button class="btn btn-default" type="button"><i class="fa-solid fa-print mr-1"></i>Print</button>
                    <button class="btn btn-success" id="submit" type="button"><i class="fa-regular fa-floppy-disk mr-1"></i>Save</button>
                </div>
            </div>
            <div class="col-md-8 eq-box-md overflow-auto eq-no-panel">

                <div class="row h-100 justify-content-center align-items-center">
                    <div>
                        <div class="d-flex justify-content-end m-2">
                            <button class="btn btn-default" title="Upload background cheque" type="button"><i class="fa-solid fa-file-arrow-up"></i></button>
                        </div>
                        <div class="cheque-body">
                            <label class="dragThis" id="date">Date</label>
                            <label class="dragThis" id="amount">Amount</label>
                            <label class="dragThis" id="payee">Payee Name</label>
                            <label class="dragThis" id="amountinword1">Amount in word line 1</label>
                            <label class="dragThis" id="amountinword2">Amount in word line 2</label>
                            <div id="d-ab" style="height:1cm;width:1cm;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
@section Scripts{
    <script src="~/lib/jquery-ui/jquery-ui.min.js"></script>
    <script>
        var ratio = parseFloat(1 / parseFloat($('#d-ab').width()));
        $('.dragThis').draggable(
            {
                containment: 'parent',
                drag: function (e) {
                    var offset = $(this).position();
                    var offsetParent = $(this).parent().position();
                    var xPos = offset.left;
                    var yPos = offset.top;
                    $('#x-' + $(this).attr('id')).val(xPos * ratio);
                    $('#y-' + $(this).attr('id')).val(yPos * ratio);
                }
            });
        $('input[type="number"]').on('change', function () {
            try {
                var id = $(this).attr('id');
                var elem = $('#' + id.split('-')[1]);
                var point = id.split('-')[0];
                var position = $(elem).position();
                if (point == 'x') {
                    $(elem).css({ top: position.top, left: parseFloat($(this).val()) + 'cm', position: 'absolute' });
                }

                else if (point == 'y')
                    $(elem).css({ top: parseFloat($(this).val()) + 'cm', left: position.left, position: 'absolute' });
            } catch {

            }
        });
        $('#x-size').off().on('change', function (e) {
            e.preventDefault();
            $('.cheque-body').height($(this).val() + 'cm');
        });
        $('#y-size').off().on('change', function (e) {
            e.preventDefault();
            $('.cheque-body').width($(this).val() + 'cm');
        });

    </script>

}
